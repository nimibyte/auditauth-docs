# Revocation Model

Revocation in AuditAuth is session-based.

There is no global access token blacklist.

There is no token introspection endpoint.

Revocation is governed by:

- Session state
- Refresh eligibility
- Token expiration

This design is intentional.

---

## Stateless Access Tokens

Access tokens are:

- JWT
- Signed with RS256
- Self-contained
- 30-minute TTL

They are not stored server-side.

Because of this:

- Access tokens cannot be revoked immediately
- They remain valid until `exp`

This is a deliberate architectural trade-off.

---

## Revocation Boundary

Revocation applies at the session level.

When a session is revoked:

- `revoked_at` is set
- Refresh token becomes invalid
- New access tokens cannot be issued

Existing access tokens remain valid until expiration.

The maximum exposure window is bounded by access token TTL (30 minutes).

---

## How Revocation Happens

Revocation may occur via:

- Logout
- Administrative action
- Lifecycle state enforcement
- Session expiration

Revocation is explicit.

There is no silent or implicit token invalidation.

---

## Logout Behavior

Logout:

- Marks the session as revoked
- Invalidates the refresh token
- Emits an audit event

It does not invalidate access tokens already issued.

Those expire naturally.

---

## Administrative Revocation

An administrator may revoke a session manually.

This:

- Immediately blocks refresh
- Prevents further token issuance
- Does not invalidate current access token until expiration

Administrative revocation is deterministic.

---

## No Blacklist Design

AuditAuth intentionally does not implement:

- Distributed token blacklists
- Access token revocation lists
- Real-time introspection checks

Reasons:

- Avoid per-request database lookups
- Preserve horizontal scalability
- Eliminate distributed state synchronization
- Maintain predictable performance

Access validation remains purely cryptographic.

---

## Expiration as Safety Boundary

Access token expiration acts as a bounded safety window.

Because TTL is 30 minutes:

- Stolen access tokens expire quickly
- Revoked sessions cannot be refreshed
- Long-term access is impossible without refresh eligibility

The refresh boundary enforces continuity control.

---

## Lifecycle Override

Application lifecycle state may override refresh eligibility.

For example:

- Suspended applications may deny refresh
- Cancelled applications block token issuance

Lifecycle state is evaluated before issuing new tokens.

---

## No Introspection Endpoint

AuditAuth does not expose a token introspection endpoint in Beta.

Backends validate tokens locally using:

- Public key
- Signature verification
- Claim validation

This eliminates network dependency during request handling.

---

## Security Characteristics

Benefits:

- No runtime DB lookup for access validation
- No centralized blacklist management
- Clear revocation boundary
- Predictable expiration behavior

Trade-offs:

- Access tokens cannot be invalidated instantly
- Revocation is bounded by TTL
- No real-time session revocation for active access tokens

These trade-offs are explicit and documented.

---

## Deterministic Revocation Model

Revocation guarantees:

- Refresh is immediately blocked
- Session cannot continue
- Identity continuity ends at refresh boundary
- Access token validity ends at expiration boundary

There is no hidden state.

Revocation logic is minimal and predictable.

---

## Future Evolution (Post-Beta)

Future versions may include:

- JWKS endpoint
- Key rotation support
- Optional introspection endpoint
- Absolute session lifetime controls

These enhancements will expand governance capabilities.

The core revocation philosophy will remain deterministic.

---

## Next Step

To understand how MFA integrates into the issuance boundary, continue with:

- MFA Architecture
