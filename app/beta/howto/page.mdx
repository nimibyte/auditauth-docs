# Next.js Quickstart

This guide sets up AuditAuth in a Next.js App Router project.

---

## 1. Install the SDK

```bash
npm install @auditauth/next
```

---

## 2. Initialize the SDK

Create an instance:

```ts
import { createAuditAuthNextInstance } from '@auditauth/next';

const auditauth = createAuditAuthNextInstance({
  appId: 'your_application_id',
  baseUrl: 'https://auditauth.com'
});
```

---

## 3. Add Route Handlers

Inside `app/api/auditauth/route.ts`:

```ts
export const { GET, POST } = auditauth.getHandlers();
```

---

## 4. Add Middleware

Create `middleware.ts`:

```ts
export default auditauth.middleware();
```

This middleware:

- Validates access tokens.
- Performs refresh when needed.
- Redirects unauthenticated users to AuditAuth.

---

## 5. Protect Server Requests

Use the request helper:

```ts
const apps = await auditauth.request('/apps');
```

The SDK automatically:

- Adds `Authorization: Bearer <access_token>`.
- Refreshes tokens if expired.
- Sends request metrics.

---

## Result

Your application is now protected by AuditAuth.

All authentication is centralized.

The client app only enforces session validity.
