# Governance Model

The Governance Model defines how control decisions are evaluated and enforced across the system.

Governance in AuditAuth is:

- Runtime-evaluated
- Plan-aware
- Identity-aware
- Application-scoped
- Deterministic

It operates at multiple layers simultaneously.

---

## Governance Control Surfaces

Governance decisions are applied across the following surfaces:

1. Identity state
2. Application state
3. Plan permissions
4. Session state
5. Feature access
6. Observability boundaries

Each request may trigger evaluation at one or more surfaces.

---

## Identity State

Each identity has a state.

When an identity is disabled:

- Login is rejected.
- Token exchange is blocked.
- Middleware validation denies access.
- Platform interaction is prevented in real time.

Access tokens may remain valid until expiration (maximum 30 minutes).

However:

- Middleware validation ensures blocked access immediately.

Governance is not based solely on token validity.

It is enforced at runtime.

---

## Application State

Applications may transition between states:

- active
- past_due
- suspended

Application state impacts:

- Authentication availability
- Portal access
- Dashboard visibility
- Metrics ingestion
- Feature availability

State evaluation occurs at request time.

Grace periods (e.g., past_due) are handled via deterministic rules.

---

## Plan Permission Layer

Plan configuration defines:

- Authentication provider availability
- Maximum user limits
- Retention windows
- Sampling rate
- Dashboard access
- Feature access flags

Plan enforcement is evaluated:

- During ingestion (metrics & audit)
- During dashboard access
- During authentication provider configuration
- During runtime feature checks

Plan changes affect future behavior.

They do not rewrite historical state.

---

## Session Governance

Session governance includes:

- Session revocation
- Refresh token invalidation
- Real-time identity blocking

When logout occurs:

- Session is marked revoked.
- Refresh token is invalidated.
- Further refresh attempts fail.

Access tokens remain valid until expiration but are blocked by middleware when appropriate.

---

## Enforcement Layers

Governance decisions are enforced at:

1. Authentication exchange layer
2. Middleware layer
3. Feature access checks
4. Dashboard query endpoints
5. Metrics ingestion layer

There is no centralized enforcement daemon.

Governance is distributed across runtime boundaries.

---

## Deterministic Evaluation

Governance decisions are:

- Stateless per request
- Derived from current identity state
- Derived from current application state
- Derived from current plan permissions

There is no background reconciliation job.

The system evaluates governance in real time.

---

## Failure Characteristics

Current Beta implementation:

- Does not log all enforcement failures.
- Does not cryptographically sign governance decisions.
- Does not centralize enforcement logging.

Governance is operationally enforced but not exhaustively audited.

Future versions may expand governance event logging.

---

## Architectural Philosophy

The governance model favors:

- Explicit state evaluation
- Runtime determinism
- Plan-driven configuration
- Minimal global coordination

It avoids:

- Heavy state machines
- Centralized policy engines
- Cross-service distributed locks

Governance remains composable and infrastructure-aligned.

---

## Next Step

To understand how audit logs and retention interact with governance guarantees, continue with:

- Audit & Retention Guarantees
